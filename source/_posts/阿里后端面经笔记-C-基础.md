---
title: 阿里后端面经笔记--C++基础
date: 2022-03-05 17:32:36
index_img: /img/home_banner_1.png
banner_img: /img/home_banner_1.png
tags: [C++,面经]
categories: 实习
---

## 基础

### 面向对象三大特性：封装、继承、多态如何在C++中体现

#### 封装

> 体现在C++中的类（**Class**），它所封装的是自己的属性和方法，内部属性和方法分public、protected、private。

#### 继承

> 继承就是新类从已有类那里得到已有的特性。 类的派生指的是从已有类产生新类的过程。原有的类成为基类或父类，产生的新类称为派生类或子类，子类继承基类后，可以创建子类对象来调用基类函数，变量等。
>
> * **单一继承：**继承一个父类，这种继承称为单一继承，一般情况尽量使用单一继承，使用多重继承容易造成混乱易出问题。
> * **多重继承：**继承多个父类，类与类之间要用逗号隔开，类名之前要有继承权限，假使两个或两个基类都有某变量或函数，在子类中调用时需要加类名限定符如c.a::i = 1；
> * **菱形继承：**多重继承掺杂隔代继承1-n-1模式，此时需要用到虚继承，例如 B，C虚拟继承于A，D再多重继承B，C，否则会出错。
> * **继承权限：**继承方式规定了如何访问继承的基类的成员。继承方式指定了派生类成员以及类外对象对于从基类继承来的成员的访问权限。
> * **继承权限：**子类继承基类除构造和析构函数以外的所有成员。

#### 多态

> 可以简单概括为“一个接口，多种方法”，即用的是同一个接口，但是效果各不相同，多态有两种形式的多态，一种是'静态多态'，一种是'动态多态'。
>
> * **动态多态：**   是指在程序运行时才能确定函数和实现的链接，此时才能确定调用哪个函数，运行期多态的实现依赖于**虚函数**（用'virtual'关键字修饰的函数）机制。
> * **静态多态：**是在编译期就把函数链接起来，此时即可确定调用哪个函数或模板，静态多态是由**模板**和**重载**实现的，在**宏多态**中，是通过定义变量，编译时直接把变量替换，实现宏多态。
>   * **优点：** 带来了泛型编程的概念，使得C++拥有泛型编程与STL这样的武器； 在编译期完成多态，提高运行期效率； 具有很强的适配性和松耦合性，（耦合性指的是两个功能模块之间的依赖关系）
>   * **缺点：** 程序可读性降低，代码调试带来困难；无法实现模板的分离编译，当工程很大时，编译时间不可小觑 ；无法处理异质对象集合

### 深拷贝浅拷贝

#### 浅拷贝

> 对于基本的数据类型和简单对象，他们之间的拷贝非常简单，就是按位复制内存，这种默认的拷贝行为就是浅拷贝，这和memcpy()函数的调用效果非常类似。

```c++
int a=10;
int b=a;
```

#### 深拷贝

> 将对象所持有的其他资源一并拷贝的行为叫做深拷贝，必须显示的定义拷贝构造函数才能达到深拷贝的目的。深拷贝会将原有对象的所有成员变量拷贝给新对象，还会为新对象再分配一块内存，并将原有对象所持有的内存也拷贝过来，这样能保证原有对象和新对象所持有的动态内存都是相互独立的，更改一个对象的数据不会影响另一个对象。
>
> 深拷贝的例子比比皆是，标准模板库中的string、vector、stack、map等都是必须使用深拷贝的。

#### 怎么判断是深拷贝还是浅拷贝

> * 当一个类拥有指针类型的成员变量时，那么绝大部份情况下就需要深拷贝。因为只有这样才能将指针指向的内容再复制一份出来，让原有对象和新对象相互独立，彼此不影响。
>
> * 如果创建对象时需要进行一些预处理工作，比如统计创建过的对象数目、记录对象创建的时间等，这时就必须使用深拷贝。
